# ===================================================================
# Configuration de la Base de Données H2 (en mémoire)
# ===================================================================
spring.datasource.url=jdbc:h2:mem:stockdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Permet d'accéder à la console H2 pour voir la base de données
spring.h2.console.enabled=true

# ===================================================================
# Configuration de JPA (Hibernate)
# ===================================================================
# On laisse Hibernate créer les tables à chaque démarrage pour H2
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.defer-datasource-initialization=true

# --- On commente la configuration MySQL obsolète ---
# spring.datasource.url=jdbc:mysql://localhost:3306/stock_db_v2
# spring.datasource.username=root
# spring.datasource.password=
# spring.sql.init.mode=always

# ===================================================================
# Configuration du Serveur Web et JWT (inchangé)
# ===================================================================
server.port=8081
application.security.jwt.secret-key=4d6251655468576d5a7134743777217a25432a462d4a614e645267556b587032
application.security.jwt.expiration=86400000

# ===================================================================
# LOGGING DE DÉBOGAGE (on peut le laisser)
# ===================================================================
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE